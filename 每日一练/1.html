<!Doctype html>
<html>
  <head lang="en">
  </head>

  <!-- <script src="正则匹配重复字符.js"></script> -->
  <!--<script type="text/javascript" src="根据传入的数字，返回其中包含的最大的连续五位数.js"></script>-->
<script>
  var aaa = function(key){
    var cache = {};

    return function(data){
      console.log(cache,2);
      if(cache[key]){
        return cache[key];
      }

      var bufObj = data.data.slice(0),
              ret = {
                data : {},
                result: data.result
              },
              surg = ret.data,
              groupName;

      for(var i = 0,obj;obj= bufObj[i++];){
        groupName = obj.locationName;

        if(!surg[groupName]){
          surg[groupName] = [];
        }

        [].push.call(surg[groupName],obj);
      }
      console.log(1,cache);
      cache[key] = ret;
      return ret;
    }
  }.call(this,'ccccc');

  aaa({
    data:[{1:"2",locationName:"das"},{1:"2",locationName:"das"},{1:"2",locationName:"das"},{1:"2",locationName:"das"},{1:"2",locationName:"das"},{1:"2",locationName:"das"},{1:"2",locationName:"das"},{1:"2",locationName:"das"},{1:"2",locationName:"das"},{1:"2",locationName:"das"}],
    result:[2,2,2,2,2,2]
  });

  aaa({
    data:[{1:"3"},{1:"2"},{1:"2"},{1:"2"},{1:"2"},{1:"2"},{1:"2"},{1:"2"},{1:"2"},{1:"2"}],
    result:[2,2,2,2,2,2]
  });
//
//  aaa({
//    data:[{1:"3"},{1:"2"},{1:"2"},{1:"2"},{1:"2"},{1:"2"},{1:"2"},{1:"2"},{1:"2"},{1:"2"}],
//    result:[2,2,2,2,2,2]
//  });

</script>
</html>
